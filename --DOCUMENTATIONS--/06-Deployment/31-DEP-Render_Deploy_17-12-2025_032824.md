# Render Backend Deployment

**Document ID:** DEP-RENDER-001  
**Created:** 17-12-2025 | Time: 03:28:24  
**Last Updated:** 17-12-2025 | Time: 03:28:24  
**Agent:** `backend-nexusvpn-specialist` (Backend Specialist Agent)  
**Status:** ‚úÖ Active

**Related Documents:**
- @--DOCUMENTATIONS--/06-Deployment/30-DEP-Cloud_Deployment_17-12-2025_032824.md (1-150)
- @--DOCUMENTATIONS--/06-Deployment/27-DEP-Deployment_Checklist_17-12-2025_032824.md (1-272)

---

## üéØ Render Configuration

### Step 1: Create Web Service

1. Go to: https://render.com/dashboard
2. Click "New +" ‚Üí "Web Service"
3. Connect GitHub account (if not already)
4. Select repository: `NexusVpnAn`

### Step 2: Service Settings

| Setting | Value |
|---------|-------|
| **Name** | `nexusvpn-api` |
| **Region** | Choose closest to your users |
| **Branch** | `main` |
| **Root Directory** | `backend` |
| **Runtime** | `Node` |
| **Build Command** | `npm install && npm run build` |
| **Start Command** | `npm run start:prod` |
| **Instance Type** | Free (for testing) |

### Step 3: Environment Variables

Add these in Render ‚Üí Environment:

```env
NODE_ENV=production
DATABASE_URL=postgres://postgres:NexusVPN02110@db.xorjbccyuinebimlxblu.supabase.co:5432/postgres
JWT_SECRET=dgLDKWYOobAmJxTVEC3FqNrkl1GIj4wP
CORS_ORIGIN=https://nexusvpn.vercel.app
MOCK_SSH=true
PORT=3000
```

**Important**: Replace `https://nexusvpn.vercel.app` with your actual Vercel URL after frontend deployment.

### Step 4: Deploy

1. Click "Create Web Service"
2. Wait 5-10 minutes for initial deployment
3. Your API will be live at: `https://nexusvpn-api.onrender.com`

---

## ‚úÖ Verification

### Test the API:

1. Open: `https://nexusvpn-api.onrender.com/`
2. You should see: `{"message":"NexusVPN API is running"}`

### Test Health Endpoint:

```bash
curl https://nexusvpn-api.onrender.com/health
```

Expected response:
```json
{
  "status": "ok",
  "database": "connected"
}
```

---

## üîó Update Frontend

After backend is deployed:

1. Copy your Render URL: `https://nexusvpn-api.onrender.com`
2. Go to Vercel ‚Üí Your Project ‚Üí Settings ‚Üí Environment Variables
3. Update `VITE_API_URL` to: `https://nexusvpn-api.onrender.com/api`
4. Redeploy frontend

---

## üêõ Troubleshooting

### Build fails:
- Check Render logs
- Verify `package.json` exists in `backend/` directory
- Ensure all dependencies are listed

### Database connection fails:
- Verify `DATABASE_URL` is correct
- Check Supabase is active
- Ensure Supabase allows connections from `0.0.0.0/0`

### CORS errors:
- Update `CORS_ORIGIN` to match your Vercel URL exactly
- Redeploy backend after changing env vars

---

*Generated JWT Secret: `dgLDKWYOobAmJxTVEC3FqNrkl1GIj4wP`*

**Last Updated:** 17-12-2025 | Time: 03:28:24

