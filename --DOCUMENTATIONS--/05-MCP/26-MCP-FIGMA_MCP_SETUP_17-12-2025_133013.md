# Figma MCP Server Setup Guide

**Document ID:** MCP-FIGMA-001  
**Created:** 17-12-2025 | Time: 13:30:13  
**Last Updated:** 17-12-2025 | Time: 13:30:13

**Related Documents:**
- @--DOCUMENTATIONS--/05-MCP/01-MCP-README_17-12-2025_022243.md (1-71)
- @--DOCUMENTATIONS--/05-MCP/13-MCP-MCP_API_KEYS_GUIDE_17-12-2025_024425.md (1-133)
- @--DOCUMENTATIONS--/05-MCP/16-MCP-MCP_QUICK_SETUP_17-12-2025_024425.md (1-50)

---

## Overview

The Figma MCP server enables AI agents to access Figma design files, extract design tokens, convert designs to code, and facilitate design-to-code workflows. This server uses the `figma-developer-mcp` package (version 0.6.3+ for security).

## Features

- **Design File Access**: Read Figma files and frames
- **Design Token Extraction**: Extract colors, typography, spacing, and other design tokens
- **Component Information**: Get component details and properties
- **Design-to-Code**: Convert Figma designs to code snippets
- **File Metadata**: Get file information, pages, and nodes
- **Variable Access**: Access Figma variables and design system data

## Prerequisites

- Node.js 18+ installed
- Figma account
- Figma API key

## Security Notice

**IMPORTANT**: Always use version 0.6.3 or later of `figma-developer-mcp` to avoid security vulnerabilities (CVE-2025-53967). The configuration uses `figma-developer-mcp@0.6.3` to ensure a secure version.

## Installation

The Figma MCP server is configured to use `npx` and will be automatically installed on first use. No manual installation is required.

**Package:** `figma-developer-mcp@0.6.3` (secure version)

## Configuration

### Step 1: Create Figma API Key

1. **Go to Figma Account Settings**: https://www.figma.com/settings
2. **Navigate to "Personal access tokens"** section
3. **Click "Create a new personal access token"**
4. **Configure token settings**:
   - **Name**: `NexusVPN MCP Server`
   - **Expiration**: Choose appropriate expiration (90 days recommended)
   - **Scopes**: Select required scopes:
     - `file_read` - Read file contents
     - `file_content_read` - Read file content details
5. **Click "Create token"**
6. **Copy the token immediately** (you won't be able to see it again)

**Alternative Method:**
1. Go to: https://www.figma.com/developers/api#access-tokens
2. Follow the instructions to create an access token

### Step 2: Add Token to Environment

Add the token to your `.env.mcp` file:

```bash
# Figma Configuration
# Get your API key from: https://www.figma.com/developers/api#access-tokens
FIGMA_API_KEY=figd_your-figma-api-key-here
```

### Step 3: Update MCP Configuration

The Figma MCP server is already configured in `mcp-config.json`:

```json
{
  "figma": {
    "name": "Figma MCP Server",
    "description": "MCP server for Figma design file access and design-to-code workflows",
    "command": "npx",
    "args": ["-y", "figma-developer-mcp@0.6.3"],
    "env": {
      "FIGMA_API_KEY": "${FIGMA_API_KEY}"
    }
  }
}
```

## Usage

### Available Tools

Once configured, the Figma MCP server provides the following tools:

1. **`figma_get_file`** - Get Figma file information
2. **`figma_get_file_nodes`** - Get specific nodes from a file
3. **`figma_get_images`** - Export images from Figma
4. **`figma_get_comments`** - Get comments from a file
5. **`figma_get_components`** - Get component information
6. **`figma_get_styles`** - Get style information (colors, text styles)
7. **`figma_get_variables`** - Get variable information
8. **`figma_convert_to_code`** - Convert Figma designs to code

### Example Usage

**Get file information:**
```
Use Figma MCP tool: figma_get_file
FILE_KEY: abc123xyz
CONTEXT: Get information about the design file
```

**Extract design tokens:**
```
Use Figma MCP tool: figma_get_styles
FILE_KEY: abc123xyz
CONTEXT: Extract color and typography tokens
```

**Convert design to code:**
```
Use Figma MCP tool: figma_convert_to_code
FILE_KEY: abc123xyz
NODE_ID: 1:23
CONTEXT: Convert this frame to React component
```

**Get component information:**
```
Use Figma MCP tool: figma_get_components
FILE_KEY: abc123xyz
CONTEXT: Get all component definitions
```

## Finding Your Figma File Key

The file key is the unique identifier in your Figma file URL:

```
https://www.figma.com/file/FILE_KEY/File-Name
                    ^^^^^^^^
                    This is your file key
```

Example:
- URL: `https://www.figma.com/file/abc123xyz/NexusVPN-Design`
- File Key: `abc123xyz`

## Security Considerations

1. **Version Security**:
   - Always use version 0.6.3 or later
   - Check for security updates regularly
   - The configuration uses `@0.6.3` to pin the secure version

2. **Token Security**:
   - Never commit tokens to version control
   - Use environment variables only
   - Rotate tokens regularly
   - Use minimum required scopes

3. **Token Storage**:
   - Store in `.env.mcp` (not committed)
   - Use secure secret management in production
   - Never log or expose tokens

4. **File Access**:
   - Tokens have access to files you have permission to view
   - Be careful with sensitive design files
   - Review file access permissions

## Troubleshooting

### Issue: "Authentication failed"

**Solution:**
- Verify API key is correct in `.env.mcp`
- Check key hasn't expired
- Ensure key format is correct (starts with `figd_`)
- Regenerate key if needed

### Issue: "File not found"

**Solution:**
- Verify file key is correct
- Check you have access to the file
- Ensure file exists and is accessible
- Verify file key format (alphanumeric, no special characters)

### Issue: "Permission denied"

**Solution:**
- Check API key has required scopes
- Verify you have access to the file in Figma
- For team files, ensure you're a member
- Check file sharing permissions

### Issue: "Version vulnerability warning"

**Solution:**
- Ensure using version 0.6.3 or later
- Update configuration to use `figma-developer-mcp@0.6.3`
- Check npm for latest secure version

## Testing

Test the Figma MCP server connection:

```bash
# Test via MCP client
npx figma-developer-mcp@0.6.3
```

Or use the MCP test script:
```bash
./mcp-scripts/test-mcp.sh figma
```

## Integration with Cursor IDE

The Figma MCP server is automatically available in Cursor IDE when configured in `mcp-config.json`. No additional setup is required.

## Design-to-Code Workflow

The Figma MCP server enables powerful design-to-code workflows:

1. **Extract Design Tokens**: Get colors, typography, spacing
2. **Component Analysis**: Understand component structure
3. **Code Generation**: Convert designs to React/HTML/CSS
4. **Style Extraction**: Get CSS variables and styles
5. **Asset Export**: Export images and icons

## Related Resources

- **Figma API Documentation**: https://www.figma.com/developers/api
- **Figma MCP Server**: https://www.npmjs.com/package/figma-developer-mcp
- **Figma Token Guide**: https://www.figma.com/developers/api#access-tokens
- **Security Advisory**: https://www.npmjs.com/advisories (check for CVE-2025-53967)

---

**Last Updated:** 17-12-2025 | Time: 13:30:13
